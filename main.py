import os

from dotenv import load_dotenv
from netmiko import ConnectHandler

load_dotenv()
FIREWALL_HOST = os.environ.get("FIREWALL_HOST")
USERNAME = os.environ.get("USERNAME")
PASSWORD = os.environ.get("PASSWORD")

FIREWALL = {
    "device_type": "paloalto_panos",
    "host": FIREWALL_HOST,
    "username": USERNAME,
    "password": PASSWORD
}


if __name__ == "__main__":
    connection = ConnectHandler(**FIREWALL) # unpacking the dictionary
    output = connection.send_command("show system info", expect_string=r">")
    connection.disconnect()

    print(output)
